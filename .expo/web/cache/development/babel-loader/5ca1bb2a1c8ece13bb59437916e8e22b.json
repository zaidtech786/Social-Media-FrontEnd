{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport SearchIcon from \"@expo/vector-icons/Feather\";\nimport AddPostIcon from \"@expo/vector-icons/Ionicons\";\nimport { useAsyncStorage } from \"@react-native-async-storage/async-storage\";\nimport Times from \"@expo/vector-icons/FontAwesome\";\nimport axios from \"axios\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport FindPeople from \"./FindPeople\";\nimport { AuthContext } from \"./Context/useContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function Search() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      users = _useState4[0],\n      setUsers = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      filterData = _useState6[0],\n      setFilterData = _useState6[1];\n\n  var _useContext = useContext(AuthContext),\n      state = _useContext.state;\n\n  var navigation = useNavigation();\n\n  var getData = function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            axios.get(\"http://192.168.0.106:5000/api/allusers\").then(function (res) {\n              setUsers(res.data.data);\n              console.log(res.data);\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getSearchData = function getSearchData(val) {\n    var newData = users.filter(function (item) {\n      return item.name.toLowerCase().includes(search.toLowerCase());\n    });\n\n    if (search === \"\") {\n      setFilterData([]);\n    } else {\n      setFilterData(newData);\n    }\n  };\n\n  var ClearData = function ClearData() {\n    setSearch(\"\");\n  };\n\n  useEffect(function () {\n    console.log(state);\n    getData();\n  }, []);\n  return _jsx(_Fragment, {\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsxs(View, {\n        style: styles.inputGrp,\n        children: [search == \"\" ? _jsx(SearchIcon, {\n          name: \"search\",\n          size: 20,\n          style: {\n            marginLeft: 10,\n            textAlign: \"center\",\n            marginTop: 3\n          }\n        }) : _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return ClearData();\n          },\n          children: _jsx(Times, {\n            name: \"times\",\n            size: 20,\n            style: {\n              marginLeft: 10,\n              textAlign: \"center\",\n              marginTop: 3\n            }\n          })\n        }), _jsx(TextInput, {\n          placeholder: \"search\",\n          style: styles.search,\n          value: search,\n          onChangeText: function onChangeText(val) {\n            setSearch(val);\n            console.log(val);\n            getSearchData();\n          }\n        })]\n      }), search ? _jsx(FlatList, {\n        data: filterData,\n        keyExtractor: function keyExtractor(item) {\n          return item._id;\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          console.log(item);\n          return _jsxs(View, {\n            style: styles.userProfile,\n            children: [_jsx(Image, {\n              source: {\n                uri: item.profile == \"\" ? \"http://www.gravatar.com/avatar/?d=mp\" : item.profile\n              },\n              style: styles.profile\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return navigation.navigate(\"userprofile\", {\n                  Id: item._id\n                });\n              },\n              children: _jsxs(View, {\n                style: styles.nameUser,\n                children: [_jsx(Text, {\n                  style: {\n                    fontWeight: \"500\"\n                  },\n                  children: item.userName\n                }), _jsxs(Text, {\n                  style: {\n                    fontWeight: \"400\"\n                  },\n                  children: [\" \", item.name]\n                })]\n              })\n            })]\n          });\n        }\n      }) : _jsx(FindPeople, {})]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 55\n  },\n  inputGrp: {\n    flexDirection: \"row\",\n    borderWidth: 1,\n    borderColor: \"#000\",\n    marginHorizontal: 20,\n    borderRadius: 7,\n    paddingVertical: 5\n  },\n  search: {\n    paddingHorizontal: 15,\n    fontSize: 18\n  },\n  profile: {\n    width: 50,\n    height: 50,\n    borderRadius: 50,\n    borderWidth: 1,\n    borderColor: \"#000\"\n  },\n  userProfile: {\n    marginTop: 20,\n    marginHorizontal: 20,\n    flexDirection: \"row\"\n  },\n  nameUser: {\n    marginLeft: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useContext","SearchIcon","AddPostIcon","useAsyncStorage","Times","axios","useNavigation","FindPeople","AuthContext","Search","search","setSearch","users","setUsers","filterData","setFilterData","state","navigation","getData","get","then","res","data","console","log","getSearchData","val","newData","filter","item","name","toLowerCase","includes","ClearData","styles","container","inputGrp","marginLeft","textAlign","marginTop","_id","userProfile","uri","profile","navigate","Id","nameUser","fontWeight","userName","StyleSheet","create","flexDirection","borderWidth","borderColor","marginHorizontal","borderRadius","paddingVertical","paddingHorizontal","fontSize","width","height"],"sources":["I:/ReactNative/social_media-app/screens/Search.js"],"sourcesContent":["import {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  TextInput,\r\n  FlatList,\r\n  TouchableOpacity,\r\n  Image,\r\n} from \"react-native\";\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport SearchIcon from \"react-native-vector-icons/Feather\";\r\nimport AddPostIcon from \"react-native-vector-icons/Ionicons\";\r\nimport { useAsyncStorage } from \"@react-native-async-storage/async-storage\";\r\nimport Times from \"react-native-vector-icons/FontAwesome\";\r\nimport axios from \"axios\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport FindPeople from \"./FindPeople\";\r\nimport { AuthContext } from \"./Context/useContext\";\r\n\r\nexport default function Search() {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n  const [filterData, setFilterData] = useState([]);\r\n  const { state } = useContext(AuthContext);\r\n  const navigation = useNavigation();\r\n\r\n  const getData = async () => {\r\n    axios.get(\"http://192.168.0.106:5000/api/allusers\").then((res) => {\r\n      setUsers(res.data.data);\r\n      console.log(res.data);\r\n    });\r\n  };\r\n\r\n  const getSearchData = (val) => {\r\n    let newData = users.filter((item) => {\r\n      return item.name.toLowerCase().includes(search.toLowerCase());\r\n    });\r\n    if (search === \"\") {\r\n      setFilterData([]);\r\n    } else {\r\n      setFilterData(newData);\r\n    }\r\n  };\r\n\r\n  const ClearData = () => {\r\n    setSearch(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(state);\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <View style={styles.container}>\r\n        <View style={styles.inputGrp}>\r\n          {search == \"\" ? (\r\n            <SearchIcon\r\n              name=\"search\"\r\n              size={20}\r\n              style={{ marginLeft: 10, textAlign: \"center\", marginTop: 3 }}\r\n            />\r\n          ) : (\r\n            <TouchableOpacity onPress={() => ClearData()}>\r\n              <Times\r\n                name=\"times\"\r\n                size={20}\r\n                style={{ marginLeft: 10, textAlign: \"center\", marginTop: 3 }}\r\n              />\r\n            </TouchableOpacity>\r\n          )}\r\n\r\n          <TextInput\r\n            placeholder=\"search\"\r\n            style={styles.search}\r\n            value={search}\r\n            onChangeText={(val) => {\r\n              setSearch(val);\r\n              console.log(val);\r\n              getSearchData();\r\n            }}\r\n          />\r\n        </View>\r\n\r\n        {search ? (\r\n          <FlatList\r\n            data={filterData}\r\n            keyExtractor={(item) => item._id}\r\n            renderItem={({ item }) => {\r\n              console.log(item);\r\n              return (\r\n                <View style={styles.userProfile}>\r\n                  <Image\r\n                    source={{\r\n                      uri:\r\n                        item.profile == \"\"\r\n                          ? \"http://www.gravatar.com/avatar/?d=mp\"\r\n                          : item.profile,\r\n                    }}\r\n                    style={styles.profile}\r\n                  />\r\n                  <TouchableOpacity\r\n                    onPress={() =>\r\n                      navigation.navigate(\"userprofile\", {\r\n                        Id: item._id,\r\n                      })\r\n                    }\r\n                  >\r\n                    <View style={styles.nameUser}>\r\n                      <Text style={{ fontWeight: \"500\" }}>{item.userName}</Text>\r\n                      <Text style={{ fontWeight: \"400\" }}> {item.name}</Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              );\r\n            }}\r\n          />\r\n        ) : (\r\n          <FindPeople />\r\n        )}\r\n      </View>\r\n    </>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginTop: 55,\r\n  },\r\n  inputGrp: {\r\n    flexDirection: \"row\",\r\n    borderWidth: 1,\r\n    borderColor: \"#000\",\r\n    marginHorizontal: 20,\r\n    borderRadius: 7,\r\n    paddingVertical: 5,\r\n  },\r\n  search: {\r\n    paddingHorizontal: 15,\r\n    fontSize: 18,\r\n  },\r\n  profile: {\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    borderWidth: 1,\r\n    borderColor: \"#000\",\r\n  },\r\n  userProfile: {\r\n    marginTop: 20,\r\n    marginHorizontal: 20,\r\n    flexDirection: \"row\",\r\n  },\r\n  nameUser: {\r\n    marginLeft: 10,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}