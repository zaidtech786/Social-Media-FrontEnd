{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Conversation = function Conversation(_ref) {\n  var conversation = _ref.conversation,\n      currentUser = _ref.currentUser;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(function () {\n    var friendId = conversation.members.find(function (m) {\n      return m !== currentUser;\n    });\n    console.log(\"Friend \", friendId);\n\n    var getUser = function _callee() {\n      var res;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios(\"http://192.168.0.106:5000/api/profile/\" + friendId));\n\n            case 3:\n              res = _context.sent;\n              setUser(res.data.user);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    };\n\n    getUser();\n  }, [currentUser, conversation]);\n  return _jsx(View, {\n    children: _jsx(View, {\n      style: styles.chatSection,\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"message\", {});\n        },\n        children: _jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            position: \"relative\"\n          },\n          children: [_jsx(Image, {\n            source: {\n              uri: user.profile\n            },\n            style: styles.img\n          }), _jsx(Text, {\n            style: {\n              marginLeft: 10,\n              fontWeight: \"500\",\n              fontSize: 20\n            },\n            children: user.name\n          })]\n        })\n      })\n    })\n  });\n};\n\nexport default Conversation;\nvar styles = StyleSheet.create({\n  chatSection: {\n    marginTop: 20\n  },\n  img: {\n    width: 50,\n    height: 50,\n    borderRadius: 50\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","axios","Conversation","conversation","currentUser","user","setUser","friendId","members","find","m","console","log","getUser","res","data","styles","chatSection","navigation","navigate","flexDirection","position","uri","profile","img","marginLeft","fontWeight","fontSize","name","StyleSheet","create","marginTop","width","height","borderRadius"],"sources":["I:/ReactNative/social_media-app/screens/Conversation.js"],"sourcesContent":["import { Image, StyleSheet, Text, TouchableOpacity, View } from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Conversation = ({ conversation, currentUser }) => {\r\n  const [user, setUser] = useState([]);\r\n  useEffect(() => {\r\n    const friendId = conversation.members.find((m) => m !== currentUser);\r\n    console.log(\"Friend \", friendId);\r\n\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios(\r\n          `http://192.168.0.106:5000/api/profile/${friendId}`\r\n        );\r\n        setUser(res.data.user);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [currentUser, conversation]);\r\n\r\n  return (\r\n    <View>\r\n      <View style={styles.chatSection}>\r\n        <TouchableOpacity onPress={() => navigation.navigate(\"message\", {})}>\r\n          <View style={{ flexDirection: \"row\", position: \"relative\" }}>\r\n            <Image source={{ uri: user.profile }} style={styles.img} />\r\n            <Text style={{ marginLeft: 10, fontWeight: \"500\", fontSize: 20 }}>\r\n              {user.name}\r\n            </Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n\r\n        {/* <View style={{ position: \"absolute\", top: 25, left: 60 }}>\r\n          <Text>{user.createdAt}</Text>\r\n        </View> */}\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n\r\nconst styles = StyleSheet.create({\r\n  chatSection: {\r\n    marginTop: 20,\r\n    // flexDirection:'row',\r\n  },\r\n  img: {\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n  },\r\n});\r\n"],"mappings":";;;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAmC;EAAA,IAAhCC,YAAgC,QAAhCA,YAAgC;EAAA,IAAlBC,WAAkB,QAAlBA,WAAkB;;EACtD,gBAAwBJ,QAAQ,CAAC,EAAD,CAAhC;EAAA;EAAA,IAAOK,IAAP;EAAA,IAAaC,OAAb;;EACAP,SAAS,CAAC,YAAM;IACd,IAAMQ,QAAQ,GAAGJ,YAAY,CAACK,OAAb,CAAqBC,IAArB,CAA0B,UAACC,CAAD;MAAA,OAAOA,CAAC,KAAKN,WAAb;IAAA,CAA1B,CAAjB;IACAO,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBL,QAAvB;;IAEA,IAAMM,OAAO,GAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,iCAEMZ,KAAK,4CACoBM,QADpB,CAFX;;YAAA;cAENO,GAFM;cAKZR,OAAO,CAACQ,GAAG,CAACC,IAAJ,CAASV,IAAV,CAAP;cALY;cAAA;;YAAA;cAAA;cAAA;cAOZM,OAAO,CAACC,GAAR;;YAPY;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAhB;;IAUAC,OAAO;EACR,CAfQ,EAeN,CAACT,WAAD,EAAcD,YAAd,CAfM,CAAT;EAiBA,OACE,KAAC,IAAD;IAAA,UACE,KAAC,IAAD;MAAM,KAAK,EAAEa,MAAM,CAACC,WAApB;MAAA,UACE,KAAC,gBAAD;QAAkB,OAAO,EAAE;UAAA,OAAMC,UAAU,CAACC,QAAX,CAAoB,SAApB,EAA+B,EAA/B,CAAN;QAAA,CAA3B;QAAA,UACE,MAAC,IAAD;UAAM,KAAK,EAAE;YAAEC,aAAa,EAAE,KAAjB;YAAwBC,QAAQ,EAAE;UAAlC,CAAb;UAAA,WACE,KAAC,KAAD;YAAO,MAAM,EAAE;cAAEC,GAAG,EAAEjB,IAAI,CAACkB;YAAZ,CAAf;YAAsC,KAAK,EAAEP,MAAM,CAACQ;UAApD,EADF,EAEE,KAAC,IAAD;YAAM,KAAK,EAAE;cAAEC,UAAU,EAAE,EAAd;cAAkBC,UAAU,EAAE,KAA9B;cAAqCC,QAAQ,EAAE;YAA/C,CAAb;YAAA,UACGtB,IAAI,CAACuB;UADR,EAFF;QAAA;MADF;IADF;EADF,EADF;AAkBD,CArCD;;AAuCA,eAAe1B,YAAf;AAEA,IAAMc,MAAM,GAAGa,UAAU,CAACC,MAAX,CAAkB;EAC/Bb,WAAW,EAAE;IACXc,SAAS,EAAE;EADA,CADkB;EAK/BP,GAAG,EAAE;IACHQ,KAAK,EAAE,EADJ;IAEHC,MAAM,EAAE,EAFL;IAGHC,YAAY,EAAE;EAHX;AAL0B,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}